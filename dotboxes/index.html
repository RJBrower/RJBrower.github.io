<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Dots & Boxes</title>
</head>
<body>
<script>
// Detect modern JS features + CSS Grid
function supportsModern() {
    // Modern JS syntax test
    try {
        new Function("let a=1; const b=2; a ||= b; const f=()=>{}; const x={}; x?.y;");
    } catch (e) {
        return false;
    }

    // CSS Grid
    if (!('CSS' in window && CSS.supports('display', 'grid'))) {
        return false;
    }

    return true;
}

if (supportsModern()) {
    window.location.href = "game.html";
} else {
    window.location.href = "game-legacy.html";
}
</script>

<noscript>This game requires JavaScript.</noscript>
</body>
</html>